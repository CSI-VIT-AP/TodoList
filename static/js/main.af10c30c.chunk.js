(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{128:function(e,n,t){e.exports=t.p+"static/media/background.6c4eb752.png"},144:function(e,n,t){e.exports=t(228)},228:function(e,n,t){"use strict";t.r(n);var a,r,o,i,c,l,d,s,u,p,b=t(0),m=t.n(b),f=t(14),g=t.n(f),h=t(275),E=t(12),v=t(39),O=t(7),y=t(40),x=t(41),j=t(47),S=t(42),I=t(48),k=t(8),w=t(51),C=t(43),A=t.n(C),D=t(9),B=t(116),R=t.n(B),U=(t(152),t(153),R.a.initializeApp({apiKey:"AIzaSyCTIptOc54oJkSJeatmM549t9QnC8ZGcEg",authDomain:"todolist-9c098.firebaseapp.com",databaseURL:"https://todolist-9c098-default-rtdb.firebaseio.com/",projectId:"todolist-9c098",storageBucket:"todolist-9c098.appspot.com",messagingSenderId:"995813157929",appId:"1:995813157929:web:e842f3e77a72890dd90038",measurementId:"G-MBQ3DJTQD3"})),_=function(e){return{type:"GET_BOARD_SUCCESS",board:e}},L=function(e){return function(n){U.auth().currentUser?(n({type:"UPDATE_BOARD_REQUEST"}),U.database().ref("/board/").child(e.boardId).set(e).then(function(){n({type:"UPDATE_BOARD_SUCCESS"})}).catch(function(e){n({type:"UPDATE_BOARD_FAIL"})})):n({type:"UPDATE_BOARD_FAIL"})}},T=function(e){return function(n){n({type:"GET_BOARD_REQUEST"}),U.database().ref("/board/"+e).once("value").then(function(e){var t={boardId:e.val().boardId,lists:e.val().lists};n(_(t))}).catch(function(t){n(function(e){return{type:"GET_BOARD_FAIL",uid:e}}(e))})}},F=function(e){return function(n){U.database().ref("/boards/"+e).once("value").then(function(e){var t=[];if(null!=e.val()){var a=e.val().members;for(var r in a)U.database().ref("/users/"+a[r].uid).on("value",function(e){null!=e.val()&&t.push(e.val())})}n(function(e){return{type:"RECIVED_BOARD_MEMBER",memberList:e}}(t))}).catch(function(e){console.log(e)})}},N=t(37),M=t(22),z=t(21),G=t(33),P=t.n(G),H=t(61),Q=t(117),W=t.n(Q),J=function(e){return{type:"LOGIN_SUCCESS",user:e}},V=function(e){return function(){var n=Object(H.a)(P.a.mark(function n(t){var a;return P.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:t({type:"LOGIN_REQUEST"}),a=new W.a.auth.GoogleAuthProvider,U.auth().signInWithPopup(a).then(function(n){var a=n.user.uid,r=n.user.email.replace(".",","),o=n.user.displayName;console.log(n),console.log(a,r,o),U.database().ref("/users/"+a).set({email:r,name:o}),U.database().ref("/emailToUid/").child(r).set({userId:a}),t(J(n)),e.push("/")}).catch(function(e){console.log(e),t({type:"LOGIN_FAILURE"})});case 3:case"end":return n.stop()}},n)}));return function(e){return n.apply(this,arguments)}}()},Y=function(){return function(){var e=Object(H.a)(P.a.mark(function e(n){return P.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n({type:"VERIFY_REQUEST"}),U.auth().onAuthStateChanged(function(e){null!==e?(n(J(e)),n({type:"VERIFY_SUCCESS"})):n({type:"LOGIN_FAILURE"})});case 2:case"end":return e.stop()}},e)}));return function(n){return e.apply(this,arguments)}}()},X=function(e){return function(n){U.database().ref("/boards/"+e+"/members/").once("value",function(n){n.exists()&&n.forEach(function(n){U.database().ref("/userBoards/"+n.val().uid).child(e).remove()})}).then(function(){U.database().ref("/boards/"+e).remove(),U.database().ref("/board/"+e).remove().then(function(){n(q())})})}},q=function(){return function(e){e({type:"GET_BOARDS_REQUEST"});var n=U.auth().currentUser,t=[];U.database().ref("/userBoards/"+n.uid).once("value",function(n){n.forEach(function(n){U.database().ref("/boards/"+n.key).once("value",function(e){e.exists()&&t.push({boardId:n.key,title:e.val().title})}).then(function(){e(function(e){return{type:"GET_BOARDS_SUCCESS",boards:e}}(t))})})})}},K=D.a.div(a||(a=Object(k.a)(["\n    z-index: 999;\n    overflow-x: hidden;\n    width: 340px;\n    position: fixed;\n    top: 0;\n    right: 0;\n    height: 100vh;\n    background-color: whitesmoke;\n    transform: ",";\n    transition: transform 0.3s ease;\n    display: block;\n    height: 100%;\n"])),function(e){return e.showBoardMenu?"translateX(0)":"translateX(100%)"}),Z=D.a.div(r||(r=Object(k.a)(["\n    box-sizing: border-box;\n    width: 340px;\n    // padding: 0px 12px;\n    color: #172b4d;\n"]))),$=D.a.div(o||(o=Object(k.a)(["\n    border-bottom: 1px solid #ccd2d7;\n    align-items: center;\n"]))),ee=D.a.h2(i||(i=Object(k.a)(["\n    font-size: 1.2rem;\n\n    font-weight: 500;\n    color: #193345;\n    text-align: center;\n"]))),ne=D.a.button(c||(c=Object(k.a)(["\n    border: none;\n    font-size: 1.5rem;\n    background: none;\n    color: #42526e;\n    position: absolute;\n    top: 18px;\n    right: 12px;\n\n    &:hover {\n        color: #193345;\n        cursor: pointer;\n    }\n"]))),te=D.a.ul(l||(l=Object(k.a)(["\n    text-align: left;\n    list-style: none;\n    cursor: pointer;\n    // padding-inline-end: 40px;\n"]))),ae=D.a.li(d||(d=Object(k.a)(["\n    display: block;\n    align-items: center;\n    color: #193345;\n    font-size: 1rem;\n    // padding: .4rem .4rem;\n    line-height: 1.2rem;\n    border-radius: 3px;\n    font-weight: 600;\n    &:hover {\n        background-color: #6b808c3f;\n    }\n"]))),re=D.a.span(s||(s=Object(k.a)(["\n    color: #193345;\n    padding: .3rem;\n    margin-right: .3rem;\n"]))),oe=D.a.ul(u||(u=Object(k.a)(["\npadding-inline-start:0\n"]))),ie=D.a.div(p||(p=Object(k.a)(["\n    background-color:#EEEEEE\n    margin: 4px 5px;\n    border-radius:20px;\n    padding: 10px;\n"])));var ce,le,de,se,ue,pe,be,me,fe,ge,he,Ee,ve,Oe,ye,xe,je,Se,Ie,ke,we,Ce=Object(E.b)(function(e){return{board:e.board}})(function(e){var n=e.showBoardMenu,t=e.toggleMenu,a=e.board.memberList;return m.a.createElement(K,{showBoardMenu:n},m.a.createElement(Z,null,m.a.createElement($,null,m.a.createElement(ee,null,"Menu"),m.a.createElement(ne,{onClick:t},m.a.createElement(z.a,{icon:M.c}))),m.a.createElement($,null,m.a.createElement(te,null,m.a.createElement(ae,null,m.a.createElement(re,null,m.a.createElement(z.a,{icon:M.e})),"Members",m.a.createElement(oe,{type:"1"},a&&a.map(function(e,n){return m.a.createElement(ie,null,m.a.createElement("h3",{style:{fontSize:"15px",fontWeight:"500"}},n+1,". ",e.name),m.a.createElement("p",{style:{fontWeight:"200"}},e.email.replace(",",".")))})))))))}),Ae=D.a.div(ce||(ce=Object(k.a)(["\n    position: absolute;\n    top: 5rem;\n    background-color: #FFFFFF;\n    border-radius: .3rem;\n    width: 20rem;\n    height: 15rem;\n    padding: 0 12px 12px 12px;\n    color: #6b808c;\n    z-index: 5;\n    border: 1px solid rgba(0,0,0,0.2);\n    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\n"]))),De=D.a.div(le||(le=Object(k.a)(["\n    border-bottom: 1px solid #dcdfe3;\n    padding: 1.2rem 0;\n"]))),Be=D.a.label(de||(de=Object(k.a)(["\n    text-align: center;\n    display: block;\n    font-weight: 400;\n    width: 100%;\n    font-size: 1rem;\n"]))),Re=D.a.button(se||(se=Object(k.a)(["\n    position: absolute;\n    right: 0.5rem;\n    top: 0.5rem;\n    border: none;\n    color: #6b808c;\n    background-color: transparent;\n    font-size: 1.5rem;\n\n    &:hover {\n        color: #000000;\n        cursor: pointer;\n    }\n"]))),Ue=D.a.div(ue||(ue=Object(k.a)([""]))),_e=D.a.input(pe||(pe=Object(k.a)(['\n    width: 100%;\n    height: 2rem;\n    padding: 1.5rem .8rem;\n    font-family: "Open Sans", sans-serif;\n    font-size: 14px;\n    color: #17394d;\n    background-color: #ebeef071;\n    border: 2px solid #dfe3e6;\n    border-radius: .3rem;\n    margin: 0rem 0rem 1rem 0rem;\n\n    &:hover {\n        background-color: #ebeef0;\n    }\n\n    &:focus {\n        border: 2px solid #0079bf;\n        outline: none;\n    }\n']))),Le=D.a.button(be||(be=Object(k.a)(["\n    background-color: #5aac44;\n    color: white;\n    width: 5rem;\n    height: 2.5rem;\n    border-radius: 3px;\n    font-size: 1rem;\n    font-weight: 700;\n    border: none;\n\n    &:hover {\n        filter: brightness(110%);\n        cursor: pointer;\n    }\n"]))),Te=D.a.label(me||(me=Object(k.a)(["\n    font-size: 14px;\n    font-weight: 600;\n    color: #000000;\n    margin: 1rem 0;\n    display: block;\n"]))),Fe=function(e){var n=e.handleShowNameMenu,t=e.handleNameSubmit,a=e.placeholder,r=e.onNameChange;return m.a.createElement(Ae,null,m.a.createElement(De,null,m.a.createElement(Be,null,"Rename Board"),m.a.createElement(Re,{onClick:n},m.a.createElement(z.a,{icon:M.c}))),m.a.createElement(Ue,null,m.a.createElement("form",{onSubmit:t},m.a.createElement(Te,null,"Board Name"),m.a.createElement(_e,{onChange:r,name:"name",placeholder:a}),m.a.createElement(Le,{type:"submit"},"Save"))))},Ne=D.a.div(fe||(fe=Object(k.a)(["\n    position: absolute;\n    top: 5rem;\n    background-color: #FFFFFF;\n    border-radius: .3rem;\n    width: 20rem;\n    height: 15rem;\n    padding: 0 12px 12px 12px;\n    color: #6b808c;\n    z-index: 5;\n    border: 1px solid rgba(0,0,0,0.2);\n    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\n"]))),Me=D.a.div(ge||(ge=Object(k.a)(["\n    border-bottom: 1px solid #dcdfe3;\n    padding: 1.2rem 0;\n"]))),ze=D.a.label(he||(he=Object(k.a)(["\n    text-align: center;\n    display: block;\n    font-weight: 400;\n    width: 100%;\n    font-size: 1rem;\n"]))),Ge=D.a.button(Ee||(Ee=Object(k.a)(["\n    position: absolute;\n    right: 0.5rem;\n    top: 0.5rem;\n    border: none;\n    color: #6b808c;\n    background-color: transparent;\n    font-size: 1.5rem;\n\n    &:hover {\n        color: #000000;\n        cursor: pointer;\n    }\n"]))),Pe=D.a.div(ve||(ve=Object(k.a)([""]))),He=D.a.input(Oe||(Oe=Object(k.a)(['\n    width: 100%;\n    height: 2rem;\n    padding: 1.5rem .8rem;\n    font-family: "Open Sans", sans-serif;\n    font-size: 14px;\n    color: #17394d;\n    background-color: #ebeef071;\n    border: 2px solid #dfe3e6;\n    border-radius: .3rem;\n    margin: 0rem 0rem 1rem 0rem;\n\n    &:hover {\n        background-color: #ebeef0;\n    }\n\n    &:focus {\n        border: 2px solid #0079bf;\n        outline: none;\n    }\n']))),Qe=D.a.button(ye||(ye=Object(k.a)(["\n    background-color: #5aac44;\n    color: white;\n    width: 5rem;\n    height: 2.5rem;\n    border-radius: 3px;\n    font-size: 1rem;\n    font-weight: 700;\n    border: none;\n\n    &:hover {\n        filter: brightness(110%);\n        cursor: pointer;\n    }\n"]))),We=D.a.label(xe||(xe=Object(k.a)(["\n    font-size: 14px;\n    font-weight: 600;\n    color: #000000;\n    margin: 1rem 0;\n    display: block;\n"]))),Je=function(e){var n=e.handleShowInvite,t=e.handleSubmitInvite,a=e.onEmailChange;return m.a.createElement(Ne,null,m.a.createElement(Me,null,m.a.createElement(ze,null,"Invite to board"),m.a.createElement(Ge,{onClick:n},m.a.createElement(z.a,{icon:M.c}))),m.a.createElement(Pe,null,m.a.createElement("form",{onSubmit:t},m.a.createElement(We,null,"Enter email"),m.a.createElement(He,{onChange:a,name:"name"}),m.a.createElement(Qe,{type:"submit"},"Add"))))},Ve=t(85),Ye=(t(168),D.a.div(je||(je=Object(k.a)(["\n    display: inline-flex;\n    align-items: center;\n    /*background-color: ",";*/\n    background-color: rgba(0,0,0,0.15);\n    justify-content: space-between;\n    width: 100%;\n    z-index: 2;\n    padding: 0.3rem 0.5rem 0.3rem 0.5rem;\n    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\n"])),function(e){return e.color||"rgba(0,0,0,.15)"})),Xe=D.a.div(Se||(Se=Object(k.a)(["\n    z-index: 3;\n"]))),qe=D.a.div(Ie||(Ie=Object(k.a)(["\n    display: inline-flex;\n"]))),Ke=D.a.div(ke||(ke=Object(k.a)(["\n    border-radius: .3rem;\n    background-color: rgba(0,0,0,0.16);\n    color: white;\n    padding: 0.4rem 0.6rem 0.4rem 0.6rem;\n    margin-right: 0.4rem;\n    &:hover {\n        background-color: rgba(255,255,255,0.35);\n        cursor: pointer;\n    }\n    font-size: 18px;\n    font-weight: bold;\n    top: 50%;\n    align-items: center;\n"]))),Ze=D.a.div(we||(we=Object(k.a)(["\n    border-radius: .3rem;\n    padding: 0.4rem 0.6rem 0.4rem 0.6rem;\n    background-color: rgba(0,0,0,0.16);\n    color: white;\n    \n    &:hover {\n        background-color: rgba(255,255,255,0.35);\n        cursor: pointer;\n    }\n"])));var $e,en,nn,tn,an,rn,on,cn,ln,dn,sn,un,pn,bn,mn,fn,gn=Object(E.b)(function(e){return{boards:e.boards,board:e.board,theme:e.theme}},{listenBoardName:function(e){return function(n){U.database().ref("/boards/"+e).on("value",function(t){null!=t.val()&&n(function(e,n){return{type:"GET_BOARD_NAME_SUCCESS",name:e,boardId:n}}(t.val().title,e))})}},updateBoardName:function(e,n){return function(t){U.database().ref("/boards/"+n).update({title:e})}},loadUserBoards:q,addUserToBoard:function(e,n,t){return function(a){var r,o=e.replace(".",",");U.database().ref("/emailToUid/"+o).child("userId").once("value").then(function(e){if(!e.exists())throw new Error(e);r=e.val(),U.database().ref("/userBoards/"+r).child(n).set(!0),U.database().ref("/boards/"+n+"/members/").push({uid:r})}).then(function(){t(!0)}).catch(function(e){console.log(e),t(!1)})}},getMember:F})(function(e){var n=Object(b.useState)(!1),t=Object(N.a)(n,2),a=t[0],r=t[1],o=Object(b.useState)(""),i=Object(N.a)(o,2),c=i[0],l=i[1],d=Object(b.useState)(!1),s=Object(N.a)(d,2),u=s[0],p=s[1],f=Object(b.useState)(""),g=Object(N.a)(f,2),h=g[0],E=g[1],v=Object(b.useState)(!1),O=Object(N.a)(v,2),y=O[0],x=O[1],j=Object(b.useState)(null),S=Object(N.a)(j,2),I=S[0],k=S[1];if(!0===I){Ve.b.success("Invitation sent successfully",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0});var w=e.boardId;k(null),e.getMember(w)}!1===I&&(Ve.b.error("Failed to invite! May be user does not exist!",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),k(null));var C=function(){x(!y)},A=function(){r(!a)},D=function(){p(!u)};return Object(b.useEffect)(function(){var n=e.boardId;e.loadUserBoards(),e.listenBoardName(n)},[]),e.boards.isLoading?m.a.createElement("div",null):m.a.createElement(m.a.Fragment,null,m.a.createElement(Ve.a,null),m.a.createElement(Ye,null,m.a.createElement(Xe,null,m.a.createElement(qe,null,m.a.createElement(Ke,{onClick:A},function(){var n=e.boardId,t="";return e.boards.boards.forEach(function(e){e.boardId===n&&(t=e.title)}),t}()),a&&m.a.createElement(Fe,{handleShowNameMenu:A,handleNameSubmit:function(n){n.preventDefault();var t=c;t.length>0&&t.length<30&&e.updateBoardName(t,e.boardId),r(!a)},placeholder:c,onNameChange:function(e){e.preventDefault(),l(e.target.value)}}),m.a.createElement(Ke,{onClick:D},"Invite"),u&&m.a.createElement(Je,{handleShowInvite:D,handleSubmitInvite:function(n){n.preventDefault();var t=h;t.length>0&&t.length<50&&e.addUserToBoard(t,e.boardId,k),p(!u)},onEmailChange:function(e){e.preventDefault(),E(e.target.value)}}))),m.a.createElement(Ce,{showBoardMenu:y,toggleMenu:C}),m.a.createElement(Ze,{onClick:C},m.a.createElement(z.a,{icon:M.a,style:{marginRight:"0.4rem"}}),"Show Menu")))}),hn=t(268),En=t(266),vn=t(120),On=t.n(vn),yn=t(121),xn=function(e){function n(){var e,t;Object(y.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(t=Object(j.a)(this,(e=Object(S.a)(n)).call.apply(e,[this].concat(r)))).state={formOpen:!1,text:""},t.openForm=function(){t.setState({formOpen:!0})},t.closeForm=function(e){t.setState({formOpen:!1,text:e.target.value})},t.handleInputChange=function(e){t.setState({text:e.target.value})},t.handleAddList=function(){var e=t.state.text;e&&t.props.addList(e),setTimeout(function(){t.props.updateBoard(t.props.board)},100)},t.handleAddCard=function(){var e=t.state.text;e&&(t.setState({text:""}),t.props.addCard(t.props.listID,e)),setTimeout(function(){t.props.updateBoard(t.props.board)},100)},t.renderAddButton=function(){var e=t.props.list,n=e?"Add another card":"Add another list",a=e?"#5e6c84":"white",r=e?"inherit":"rgba(0,0,0,0.16)",o=D.a.div($e||($e=Object(k.a)(["\n            display: inline-flex;\n            flex-direction: row;\n            align-items: center;\n            margin: 8px 8px 8px 8px;\n            cursor: pointer;\n            border-radius: 8px;\n            height: 36px;\n            width: 275px;\n            padding-left: 8px;\n            min-width: 275px;\n            font-family: -apple-system, BlinkMacSystemFont, Segoe UI,Roboto,Noto Sans,Ubuntu,Droid Sans,Helvetica Neue,sans-serif;\n            font-size: 14px;\n            line-height: 20px;\n            font-weight: 400;\n\n            opacity: ",";\n            color: ",";\n            background-color: ",";\n            \n            &:hover {\n                background-color: ",";\n                transition: 0.3s; \n            }\n        "])),1,a,r,e?"#e1e2e6":"rgba(0, 0, 0, 0.1)");return m.a.createElement(o,{onClick:t.openForm},m.a.createElement(On.a,null),m.a.createElement("p",null,n))},t.renderForm=function(){var e=t.props.list,n=e?"Enter a title for this card...":"Enter a list title...",a=e?"Add Card":"Add List",r=D.a.div(en||(en=Object(k.a)(["\n            display: inline-block;\n        "])));return m.a.createElement("div",null,m.a.createElement(En.a,{style:{margin:"8px",overflow:"hidden",minHeight:"80px",minWidth:"272px"}},m.a.createElement(yn.a,{placeholder:n,autoFocus:!0,onBlur:t.closeForm,value:t.state.text,onChange:t.handleInputChange,style:{resize:"none",width:"93%",border:"none",outline:"none",margin:"8px",height:"300px"}})),m.a.createElement("div",{style:{alignItems:"center",display:"flex"}},m.a.createElement(r,null,m.a.createElement(hn.a,{onMouseDown:e?t.handleAddCard:t.handleAddList,title:a,variant:"contained",style:{color:"white",backgroundColor:"#5aac44",margin:"0px 8px 8px 8px",textTransform:"capitalize",fontSize:"14px"}},a),m.a.createElement(hn.a,{style:{margin:"0px 8px 8px 0px",fontSize:"14px",textTransform:"capitalize",backgroundColor:"rgba(255, 255, 255, 0.5)",color:"black"},variant:"contained"},"close"))))},t}return Object(I.a)(n,e),Object(x.a)(n,[{key:"render",value:function(){return this.state.formOpen?this.renderForm():this.renderAddButton()}}]),n}(b.Component),jn=Object(E.b)(function(e){return{board:e.board}},{addList:function(e){return{type:"ADD_LIST",payload:e}},addCard:function(e,n){return{type:"ADD_CARD",payload:{text:n,listID:e}}},updateBoard:L})(xn),Sn=t(269),In=D.a.div(nn||(nn=Object(k.a)(["\n    margin-bottom: 8px;\n    margin-left: 8px;\n    margin-right: 8px;\n    font-size: 14px;\n    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\n    color: #172b4d;\n"]))),kn=Object(D.a)(Sn.a)(tn||(tn=Object(k.a)(["\n    display: inline-block;\n"]))),wn=D.a.div(an||(an=Object(k.a)(["\n    visibility: hidden;\n    display: inline-block;\n    margin-right: 15px;\n    border-radius: .3rem;\n    padding: 0.4rem 0.6rem 0.4rem 0.6rem;\n    color: #172b4d;\n    opacity: 0.7;\n    \n    &:hover {\n        background-color: #e1e2e6;\n    }\n"]))),Cn=Object(D.a)(En.a)(rn||(rn=Object(k.a)(["\n    justify-content: space-between;\n    display: inline-flex;\n    width: 100%;\n    flex-direction: row;\n    align-items: center;\n    &:hover {\n        background-color: rgb(240, 240, 240);\n\n    }\n    &:hover "," {\n        visibility: visible;\n    }\n"])),wn),An=function(e){var n=e.text,t=e.id,a=e.index,r=e.listID,o=Object(E.c)(),i=Object(E.d)(),c=function(){o(function(e,n){return{type:"DELETE_CARD",payload:{cardID:e,listID:n}}}(t,r));var e=i.getState().board;o(L(e))};return m.a.createElement(w.b,{draggableId:String(t),index:a},function(e){return m.a.createElement(In,Object.assign({ref:e.innerRef},e.draggableProps,e.dragHandleProps),m.a.createElement(Cn,null,m.a.createElement(kn,null,n),m.a.createElement(wn,{onMouseUp:c},m.a.createElement(z.a,{icon:M.d}))))})},Dn=D.a.div(on||(on=Object(k.a)(["\n    background-color: #ebecf0;\n    border-radius: 3px;\n    width: 300px;\n    height: 100%;\n    padding: 8px 1px 8px 1px;\n    margin: 8px 0px 0px 8px;\n    \n"]))),Bn=D.a.div(cn||(cn=Object(k.a)(["\n    color: #172b4d;\n    font-family: -apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Noto Sans,Ubuntu,Droid Sans,Helvetica Neue,sans-serif;\n    font-size: 14px;\n    line-height: 20px;\n    font-weight: 400;\n    margin: 15px 15px 15px 22px;\n    font-weight: bold;\n    opacity: 0.7;\n    display: inline-block;\n"]))),Rn=D.a.div(ln||(ln=Object(k.a)(["\n    min-height: 20px;\n"]))),Un=D.a.div(dn||(dn=Object(k.a)(["\n    justify-content: space-between;\n    display: inline-flex;\n    width: 100%;\n    flex-direction: row;\n    align-items: center;\n"]))),_n=D.a.div(sn||(sn=Object(k.a)(["\n    display: inline-block;\n    margin-right: 15px;\n    border-radius: .3rem;\n    padding: 0.4rem 0.6rem 0.4rem 0.6rem;\n    color: #172b4d;\n    opacity: 0.7;\n    \n    &:hover {\n        background-color: #e1e2e6;\n        \n    }\n"]))),Ln=function(e){var n=e.title,t=e.cards,a=e.listID,r=e.index,o=Object(E.c)(),i=Object(E.d)(),c=function(){o(function(e){return{type:"DELETE_LIST",payload:{listID:e}}}(a));var e=i.getState().board;o(L(e))};return m.a.createElement(A.a,null,m.a.createElement(w.b,{draggableId:String(a),index:r},function(e){return m.a.createElement(Dn,Object.assign({},e.draggableProps,{ref:e.innerRef},e.dragHandleProps),m.a.createElement(Un,null,m.a.createElement(Bn,null,n),m.a.createElement(_n,{onMouseUp:c},m.a.createElement(z.a,{icon:M.d}))),m.a.createElement(w.c,{droppableId:String(a)},function(e){return m.a.createElement(Rn,Object.assign({},e.droppableProps,{ref:e.innerRef}),null!=t?t.map(function(e,n){return m.a.createElement(An,{index:n,text:e.text,key:e.id,id:e.id,listID:a})}):null,e.placeholder)}),m.a.createElement(jn,{listID:a,list:!0}))}))},Tn=D.a.div(un||(un=Object(k.a)(["\n  display: flex;\n  flex-direction: row;\n"]))),Fn=D.a.div(pn||(pn=Object(k.a)(["\n    position: absolute;\n    /*background-color: ",";*/\n"])),function(e){return e.color||"#519839"}),Nn=function(e){function n(e){var t;Object(y.a)(this,n),(t=Object(j.a)(this,Object(S.a)(n).call(this,e))).onDragEnd=function(e){var n=e.destination,a=e.source,r=e.draggableId,o=e.type;n&&(t.props.sort(a.droppableId,n.droppableId,a.index,n.index,r,o),t.props.updateBoard(t.props.board))};var a=t.props.match.params.id;return t.props.loadBoard(a),t.props.getMember(a),t}return Object(I.a)(n,e),Object(x.a)(n,[{key:"componentDidMount",value:function(){var e=this.props.match.params.id;this.props.listenBoard(e)}},{key:"componentWillUnmount",value:function(){}},{key:"render",value:function(){var e=this.props.board.lists;return m.a.createElement(A.a,null,this.props.auth.isAuthenticated&&m.a.createElement(gn,{boardId:this.props.match.params.id}),m.a.createElement(w.a,{onDragEnd:this.onDragEnd},m.a.createElement(Fn,null,m.a.createElement(w.c,{droppableId:"all-lists",direction:"horizontal",type:"list"},function(n){return m.a.createElement(Tn,Object.assign({},n.droppableProps,{ref:n.innerRef}),null!=e?e.map(function(e,n){return m.a.createElement(Ln,{index:n,listID:e.id,title:e.title,key:e.id,cards:e.cards})}):null,n.placeholder,m.a.createElement(jn,{type:"list"}))}))))}}]),n}(b.Component),Mn=Object(E.b)(function(e){return{board:e.board,auth:e.auth}},{sort:function(e,n,t,a,r,o){return{type:"DRAG_HAPPENED",payload:{droppableIdStart:e,droppableIdEnd:n,droppableIndexStart:t,droppableIndexEnd:a,draggableId:r,type:o}}},updateBoard:L,loadBoard:T,listenBoard:function(e){return function(n){U.database().ref("/board/"+e).on("value",function(e){if(null!=e.val()){console.log(e.val().boardId);var t={boardId:e.val().boardId,lists:e.val().lists};n(_(t))}})}},getMember:F})(Nn),zn=t(65),Gn=t(127),Pn=t.n(Gn),Hn=t(125),Qn=t.n(Hn),Wn=D.a.div(bn||(bn=Object(k.a)(["\n    position: absolute;\n    top: 0px;\n    right: 0px;\n    visibility: hidden;\n    display: inline-block;\n    margin: 5px;\n    border-radius: .3rem;\n    padding: 0.4rem 0.6rem 0.4rem 0.6rem;\n    color: #172b4d;\n    opacity: 0.4;\n    \n    &:hover {\n        background-color: #e1e2e6;\n    }\n"]))),Jn=D.a.div(mn||(mn=Object(k.a)(["\n    position: relative;\n    display: flex;\n    height: 80px;\n    width: 160px;\n    border-radius: 5px;\n    flex-direction: column;\n    align-items: left;\n    text-align: left;\n    color: #fff;\n    background-color: #519839;\n    line-height: 20px;\n    cursor: pointer;\n    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\n    font-size: 16px;\n    font-weight: 500;\n\n    &:hover "," {\n        visibility: visible;\n    }\n"])),Wn),Vn=D.a.div(fn||(fn=Object(k.a)(["\n    margin-left: 10px;\n    margin-top: 10px;\n"])));function Yn(e){var n=Object(E.c)();return m.a.createElement(A.a,null,m.a.createElement(Jn,{className:"outer",onClick:e.onClick},m.a.createElement(Wn,{className:"inner",onMouseDown:function(t){n(X(e.boardId))}},m.a.createElement(z.a,{className:"inner",icon:M.d})),m.a.createElement(Vn,null,e.title)))}var Xn,qn,Kn,Zn,$n,et,nt,tt,at,rt,ot,it=t(80),ct=t(280),lt=t(271),dt=t(270),st=t(282),ut=t(272),pt=t(6),bt=t(276),mt=t(126),ft=t.n(mt),gt=function(e){function n(){var e,t;Object(y.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(t=Object(j.a)(this,(e=Object(S.a)(n)).call.apply(e,[this].concat(r)))).state={open:!1,title:""},t.toggleOpen=function(){t.setState({open:!t.state.open})},t.onChange=function(e){t.setState(Object(it.a)({},e.target.id,e.target.value))},t.onSubmit=function(e){e.preventDefault(),t.props.createBoard(t.state.title),t.props.loadUserBoards(),t.toggleOpen()},t}return Object(I.a)(n,e),Object(x.a)(n,[{key:"render",value:function(){var e=this.props;return m.a.createElement(b.Fragment,null,m.a.createElement(hn.a,{variant:"contained",color:"primary",onClick:this.toggleOpen},"Create new board"),m.a.createElement(ct.a,{open:this.state.open,onClose:this.toggleOpen},m.a.createElement(st.a,null,"Create new board"),m.a.createElement("form",{action:"/",method:"POST",onSubmit:this.onSubmit},m.a.createElement(dt.a,null,m.a.createElement(bt.a,{autoFocus:!0,margin:"dense",id:"title",label:"Add board title",type:"text",required:!0,fullWidth:!0,onChange:this.onChange})),m.a.createElement(lt.a,{className:e.alignItemsAndJustifyContent},m.a.createElement(hn.a,{type:"submit",color:"primary"},"Create"),m.a.createElement(ut.a,{color:"primary",onClick:this.toggleOpen},m.a.createElement(ft.a,null))))))}}]),n}(b.Component),ht=Object(E.b)(null,{createBoard:function(e){return function(n){n({type:"CREATE_BOARD_REQUEST"});var t=U.auth().currentUser;if(t){var a=t.uid,r=U.database().ref("boards/").push({title:e},function(e){e&&n({type:"CREATE_BOARD_FAIL"})}).key;U.database().ref("boards/"+r+"/members").push({uid:a}),U.database().ref("/userBoards/"+a).child(r).set(!0),U.database().ref("/board/"+r).set({boardId:r,lists:{0:{id:"0",title:"Todo"}}}),n(function(e){return{type:"CREATE_BOARD_SUCCESS",uid:e}}(r))}else n({type:"CREATE_BOARD_FAIL"})}},loadUserBoards:q})(Object(pt.a)(function(e){return{alignItemsAndJustifyContent:{display:"flex",alignItems:"center",justifyContent:"center"}}})(gt)),Et=D.a.div(Xn||(Xn=Object(k.a)(["\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n    text-align: center;\n    min-height: 70vh;\n"]))),vt=D.a.div(qn||(qn=Object(k.a)(["\n    background: rgba(255,255,255,0.85);\n    padding: 2rem;\n    border-radius: 1rem;\n"]))),Ot=D.a.div(Kn||(Kn=Object(k.a)(["\n    position: center;\n    padding: 5px;\n    font-size: 16px;\n    font-weight: 700;\n    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\n    color: #172b4d;\n"]))),yt=D.a.div(Zn||(Zn=Object(k.a)(["\n    margin: 5px;\n"]))),xt=D.a.div($n||($n=Object(k.a)(["\n    display: flex;\n    flex-wrap: wrap;\n    max-width: 600px;\n    margin-bottom: 2rem;\n    margin-top: 1rem;\n    justify-content: center;\n    align-items: center;\n    text-align: center;\n"]))),jt=function(e){function n(e){var t;return Object(y.a)(this,n),(t=Object(j.a)(this,Object(S.a)(n).call(this,e))).handleClickBoard=t.handleClickBoard.bind(Object(zn.a)(Object(zn.a)(t))),t}return Object(I.a)(n,e),Object(x.a)(n,[{key:"componentDidMount",value:function(){this.props.loadUserBoards()}},{key:"handleClickBoard",value:function(e,n){if(e.target.className instanceof SVGAnimatedString||e.target.className.includes("inner"));else{var t=this.props.history;this.props.loadBoard(n),t.push("/board/"+n)}}},{key:"render",value:function(){var e=this;return m.a.createElement(A.a,null,m.a.createElement(Et,null,m.a.createElement(vt,null,m.a.createElement(Ot,null,m.a.createElement(Pn.a,null),m.a.createElement("p",null,"Your boards")),m.a.createElement(xt,null,this.props.boards.isLoading?m.a.createElement(Qn.a,null):this.props.boards.boards.map(function(n,t){return m.a.createElement(yt,{key:n.boardId},m.a.createElement(Yn,{onClick:function(t){return e.handleClickBoard(t,n.boardId)},index:t,title:n.title,key:n.boardId,boardId:n.boardId}))})),m.a.createElement(yt,null),m.a.createElement(ht,null))))}}]),n}(b.Component),St=Object(E.b)(function(e){return{boards:e.boards}},{loadUserBoards:q,loadBoard:T})(jt),It=t(84),kt=t.n(It),wt=D.a.div(et||(et=Object(k.a)(["\n    /*background: ",";*/\n    margin: auto;\n    width: 100%;\n    padding: 4px;\n    display: flex;\n    justify-content: space-between;\n    position: relative;\n    background-color: rgba(0,0,0,0.25);\n"])),function(e){return e.color||"rgba(2, 106, 167, 1)"}),Ct=D.a.div(nt||(nt=Object(k.a)(["\n    display: flex;\n    flex-direction: row;\n    justify-content: center;\n    align-items: center;\n    position: absolute;\n    left: 50%;\n    right: 50%;\n"]))),At=D.a.p(tt||(tt=Object(k.a)(["\n    margin:0;\n    padding:0 5px;\n    color:white;\n    font-weight:900\n"]))),Dt=D.a.img(at||(at=Object(k.a)(["\n    opacity: 0.7;\n    width: 6rem;\n    height: 2rem;\n    :hover {\n        opacity: 0.8;\n        cursor: pointer;\n    }\n"]))),Bt=D.a.div(rt||(rt=Object(k.a)(["\n    justify-content: flex-end;\n    display: inline-flex;\n    align-items: center;\n"]))),Rt=D.a.div(ot||(ot=Object(k.a)(["\n    border-radius: .3rem;\n    background-color: rgba(0,0,0,0.16);\n    color: white;\n    padding: 0.4rem 0.6rem 0.4rem 0.6rem;\n    &:hover {\n        background-color: rgba(255,255,255,0.35);\n        cursor: pointer;\n    }\n    margin: 0 4px 0 4px;\n"]))),Ut=function(e){var n=e.isAuthenticated,t=e.isLoading,a=Object(E.c)(),r=Object(O.g)(),o=m.a.createElement(Rt,{onMouseDown:function(){a(function(){var e=Object(H.a)(P.a.mark(function e(n){return P.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n({type:"LOGOUT_REQUEST"}),U.auth().signOut().then(function(){n({type:"LOGOUT_SUCCESS"})}).catch(function(e){n({type:"LOGOUT_FAILURE"})});case 2:case"end":return e.stop()}},e)}));return function(n){return e.apply(this,arguments)}}()),r.push("/signin")}},"Sign out");return m.a.createElement(wt,null,m.a.createElement(v.b,{to:"/"},m.a.createElement(Rt,null,m.a.createElement(z.a,{icon:M.b,size:"lg"}))),m.a.createElement(v.b,{to:"/"},m.a.createElement(Ct,null,m.a.createElement(Dt,{src:kt.a}),m.a.createElement(At,null,"TodoList"))),m.a.createElement(Bt,null,t?null:n?o:null))},_t=t(133),Lt=function(e){var n=e.component,t=e.isAuthenticated,a=e.isLoading,r=Object(_t.a)(e,["component","isAuthenticated","isLoading"]);return m.a.createElement(O.b,Object.assign({},r,{render:function(e){return a?m.a.createElement("div",null):t?m.a.createElement(n,e):m.a.createElement(O.a,{to:"/signin"})}}))},Tt=t(281),Ft=t(274),Nt=t(273),Mt=t(132),zt=Object(Nt.a)(function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center",background:"rgba(255, 255, 255,0.9)",padding:"2rem",borderRadius:"1rem"},avatar:{margin:e.spacing(1),background:"transparent",width:"100px",height:"100px"},logo:{width:"100%"},google:{background:"white",margin:"0 10Px",borderRadius:"100%"},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2),backgroundColor:"#026aa7"}}});function Gt(e){var n=zt(),t=Object(E.c)(),a=Object(b.useState)({toFrontpage:!1}),r=Object(N.a)(a,2),o=r[0],i=r[1];function c(){return(c=Object(H.a)(P.a.mark(function n(a){return P.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:a.preventDefault(),t(V(e.history,function(){return e.history.push("/")})),i({toFrontpage:!0});case 3:case"end":return n.stop()}},n)}))).apply(this,arguments)}var l=m.a.createElement(O.a,{to:"/"}),d=m.a.createElement(Ft.a,{component:"main",maxWidth:"xs"},m.a.createElement("div",{className:n.paper},m.a.createElement(Tt.a,{className:n.avatar},m.a.createElement("img",{src:kt.a,className:n.logo,alt:"logo"})),m.a.createElement(hn.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:n.submit,onClick:function(e){return c.apply(this,arguments)}},m.a.createElement(Mt.a,{className:n.google,size:35})," Sign In With Google")));return o.toFrontpage?l:d}var Pt=t(128),Ht=t.n(Pt);var Qt=Object(E.b)(function(e){return{auth:e.auth}})(function(e){var n=e.auth,t=n.isAuthenticated,a=n.isLoading;return Object(b.useEffect)(function(){document.body.style.backgroundImage="url(".concat(Ht.a,")"),document.body.style.backgroundRepeat="no-repeat",document.body.style.backgroundSize="cover",document.body.style.width="100vl",document.body.style.height="100vh"},[]),m.a.createElement(v.a,null,m.a.createElement(Ut,{isAuthenticated:t,isLoading:a}),m.a.createElement(O.d,null,m.a.createElement(Lt,{exact:!0,path:"/",component:St,isAuthenticated:t,isLoading:a}),m.a.createElement(O.b,{path:"/signin",component:Gt}),m.a.createElement(O.b,{path:"/board/:id",component:Mn,isAuthenticated:t,isLoading:a})))}),Wt=t(27),Jt=t(129),Vt=t(130),Yt=t(13),Xt=t(38),qt=t(131);function Kt(){return(new qt.a).toHexString()}var Zt={boardId:Kt(),title:"",lists:[],memberList:[]},$t=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Zt,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"CREATE_BOARD_SUCCESS":return Object(Yt.a)({},e,{boardId:n.uid,lists:[]});case"GET_BOARD_SUCCESS":return Object(Yt.a)({},e,{boradId:n.board.boradId,lists:n.board.lists});case"GET_BOARD_FAIL":return Object(Yt.a)({},e,{lists:[],boardId:n.uid});case"GET_LISTS":return e;case"ADD_LIST":var t={title:n.payload,cards:[],id:Kt()};return e.lists?Object(Yt.a)({},e,{lists:[].concat(Object(Xt.a)(e.lists),[t])}):Object(Yt.a)({},e,{lists:[t]});case"DELETE_LIST":var a=n.payload.listID,r=Object(Xt.a)(e.lists);return e.lists.forEach(function(e,n){e.id!==a||r.splice(n,1)}),Object(Yt.a)({},e,{lists:r});case"ADD_CARD":var o={text:n.payload.text,id:Kt()},i=e.lists.map(function(e){return e.id===n.payload.listID?e.cards?Object(Yt.a)({},e,{cards:[].concat(Object(Xt.a)(e.cards),[o])}):Object(Yt.a)({},e,{cards:[o]}):e});return Object(Yt.a)({},e,{lists:i});case"DELETE_CARD":var c=n.payload.cardID,l=n.payload.listID,d=e.lists.map(function(e){if(e.id===l){var n=Object(Xt.a)(e.cards);return e.cards.forEach(function(e,t){e.id!==c||n.splice(t,1)}),Object(Yt.a)({},e,{cards:n})}return e});return Object(Yt.a)({},e,{lists:d});case"DRAG_HAPPENED":var s=n.payload,u=s.droppableIdStart,p=s.droppableIdEnd,b=s.droppableIndexStart,m=s.droppableIndexEnd,f=(s.draggableId,s.type),g=Object(Yt.a)({},e);if("list"===f){var h,E=g.lists.splice(b,1);return(h=g.lists).splice.apply(h,[m,0].concat(Object(Xt.a)(E))),g}if(u===p){var v,O=g.lists.find(function(e){return u===e.id}),y=O.cards.splice(b,1);(v=O.cards).splice.apply(v,[m,0].concat(Object(Xt.a)(y)))}if(u!==p){var x,j=g.lists.find(function(e){return u===e.id}),S=g.lists.find(function(e){return p===e.id}),I=j.cards.splice(b,1);S.cards?(x=S.cards).splice.apply(x,[m,0].concat(Object(Xt.a)(I))):S.cards=Object(Xt.a)(I)}return g;case"RECIVED_BOARD_MEMBER":return Object(Yt.a)({},e,{memberList:n.memberList});default:return e}},ea=Object(Wt.combineReducers)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isLoading:!1,loginError:!1,logoutError:!1,registerError:!1,isAuthenticated:!1,error:!1,errorMessage:"",user:{}},n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"LOGIN_REQUEST":return Object(Yt.a)({},e,{isLoading:!0,loginError:!1,errorMessage:""});case"LOGIN_SUCCESS":return Object(Yt.a)({},e,{isLoading:!1,isAuthenticated:!0,user:n.user,errorMessage:""});case"LOGIN_FAILURE":return Object(Yt.a)({},e,{isLoading:!1,isAuthenticated:!1,loginError:!0});case"LOGOUT_REQUEST":return Object(Yt.a)({},e,{isLoading:!0,logoutError:!1});case"LOGOUT_SUCCESS":return Object(Yt.a)({},e,{isLoading:!1,isAuthenticated:!1,user:{}});case"LOGOUT_FAILURE":return Object(Yt.a)({},e,{isLoading:!1,logoutError:!0});case"VERIFY_REQUEST":return Object(Yt.a)({},e,{isLoading:!0,verifyingError:!1});case"VERIFY_SUCCESS":return Object(Yt.a)({},e,{isLoading:!1,isAuthenticated:!0});default:return e}},boards:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isLoading:!0,boards:[]},n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"GET_BOARDS_SUCCESS":return Object(Yt.a)({},e,{isLoading:!1,boards:n.boards});case"GET_BOARD_NAME_SUCCESS":if(!e.boards)return Object(Yt.a)({},e);var t=e.boards.map(function(e){return e.boardId===n.boardId?Object(Yt.a)({},e,{title:n.name}):Object(Yt.a)({},e)});return Object(Yt.a)({},e,{boards:t});case"GET_BOARDS_REQUEST":return Object(Yt.a)({},e,{isLoading:!0});default:return e}},board:$t});var na=function(e){var n=Object(Wt.createStore)(ea,e,Object(Vt.composeWithDevTools)(Object(Wt.applyMiddleware)(Jt.a)));return n.dispatch(Y()),n}();var ta=function(){return m.a.createElement(E.a,{store:na},m.a.createElement(h.a,null),m.a.createElement(Qt,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));g.a.render(m.a.createElement(ta,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},84:function(e,n,t){e.exports=t.p+"static/media/CSILogo.5b625fca.png"}},[[144,2,1]]]);
//# sourceMappingURL=main.af10c30c.chunk.js.map